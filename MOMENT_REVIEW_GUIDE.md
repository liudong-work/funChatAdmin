# 📱 动态审核功能使用指南

## 🎯 功能概述

动态审核功能已经集成到现有的Vue管理系统中，位于"内容审核" → "动态审核"菜单下。

## ✨ 主要功能

### 📊 数据统计
- **总动态数**: 显示系统中所有动态的总数
- **待审核**: 显示等待审核的动态数量（橙色）
- **已通过**: 显示审核通过的动态数量（绿色）
- **已拒绝**: 显示审核拒绝的动态数量（红色）

### 🔍 筛选功能
- **状态筛选**: 按审核状态筛选动态（全部/待审核/已通过/已拒绝）
- **日期筛选**: 按发布时间范围筛选动态
- **快速筛选**: 一键查看待审核动态
- **刷新数据**: 实时更新统计数据

### 📝 审核功能
- **查看详情**: 点击动态列表中的"查看详情"
- **审核操作**: 点击"审核"按钮打开审核模态框
- **审核决策**: 选择"通过"或"拒绝"
- **审核意见**: 可添加审核意见和备注
- **状态跟踪**: 实时显示审核状态和时间

## 🚀 使用步骤

### 1. 启动后端服务器
```bash
cd /Users/liudong/Desktop/myGitProgect/appdemo/chat-mobile-demo/backend
node src/server-simple.js
```

### 2. 启动管理系统
```bash
cd /Users/liudong/Desktop/myGitProgect/chat-admin-system/frontend
npm run dev
```

### 3. 访问管理系统
- 打开浏览器访问: `http://localhost:5173`
- 登录信息: 使用管理员账号登录

### 4. 开始审核
1. 点击左侧菜单"内容审核" → "动态审核"
2. 查看统计数据了解整体情况
3. 使用筛选功能查找需要审核的动态
4. 点击"审核"按钮进行审核操作
5. 选择"通过"或"拒绝"并添加审核意见

## 🔧 API 接口说明

管理系统调用以下后端API：

### 获取统计数据
```
GET /api/admin/moments/statistics
Authorization: Bearer admin_token
```

### 获取动态列表
```
GET /api/admin/moments/all?page=1&pageSize=10&status=pending
Authorization: Bearer admin_token
```

### 审核动态
```
POST /api/admin/moments/review/{uuid}
Authorization: Bearer admin_token
Content-Type: application/json

{
  "status": "approved|rejected",
  "reviewComment": "审核意见"
}
```

## 🎨 界面特点

- **现代化设计**: 使用Ant Design Vue组件库
- **响应式布局**: 支持各种屏幕尺寸
- **实时更新**: 审核后自动刷新数据
- **状态标识**: 清晰的颜色编码状态显示
- **图片预览**: 支持动态图片预览和放大查看
- **分页功能**: 支持大量数据的分页显示

## 🔄 工作流程

1. **用户发布动态** → 状态设为"待审核"
2. **管理员查看** → 在管理系统中查看待审核动态
3. **审核决策** → 选择通过或拒绝
4. **状态更新** → 动态状态更新为"已通过"或"已拒绝"
5. **用户可见** → 已通过的动态对用户可见

## 📱 移动端支持

管理系统完全支持移动端访问：
- 响应式设计适配手机屏幕
- 触摸友好的操作界面
- 优化的移动端审核体验

## 🛠️ 技术栈

- **前端**: Vue 3 + TypeScript + Ant Design Vue
- **后端**: Node.js + Express
- **存储**: 内存存储（与现有系统集成）
- **认证**: JWT Token（admin_token）

## 🔐 权限说明

当前使用简化的管理员认证：
- **管理员Token**: `admin_token`
- **路由守卫**: 自动检查登录状态
- **权限控制**: 只有管理员可以访问审核功能

## 📈 扩展功能

未来可以扩展的功能：
- 批量审核操作
- 关键词过滤和敏感词检测
- 自动审核规则
- 审核历史记录和统计
- 用户举报处理
- 数据分析报表

## 🆘 常见问题

### Q: 无法访问管理系统？
A: 确保后端服务器正在运行，并且端口8889可访问。

### Q: 审核后状态没有更新？
A: 检查网络连接，确保API调用成功。

### Q: 图片无法显示？
A: 检查图片URL是否正确，确保图片服务可访问。

### Q: 统计数据不准确？
A: 点击"刷新"按钮重新加载数据。

## 📞 技术支持

如有问题或建议，请联系开发团队或查看控制台错误信息。
